var background=function(){"use strict";var s,i;const a=Object.values({CHATGPT:"https://chatgpt.com/",GEMINI:"https://gemini.google.com/"});function t(){chrome.tabs.query({},e=>{e.forEach(o=>{const c=o.url;typeof c=="string"&&a.some(h=>c.startsWith(h))&&o.id&&chrome.tabs.reload(o.id)})})}const l={async main(){console.log("プロンプトポケットのバックグラウンドが起動しました"),chrome.action.onClicked.addListener(async e=>{try{await chrome.sidePanel.open({windowId:e.windowId})}catch(o){console.error("サイドパネルを開けませんでした:",o)}}),chrome.runtime.onInstalled.addListener(e=>{console.log("拡張機能がインストールされました:",e),t(),chrome.sidePanel&&chrome.sidePanel.setOptions({path:"sidepanel.html",enabled:!0})}),chrome.action&&chrome.action.onClicked.addListener(e=>{t(),chrome.sidePanel&&e.id&&chrome.sidePanel.open({tabId:e.id})})}};function m(){}(i=(s=globalThis.browser)==null?void 0:s.runtime)!=null&&i.id?globalThis.browser:globalThis.chrome;function r(e,...o){}const d={debug:(...e)=>r(console.debug,...e),log:(...e)=>r(console.log,...e),warn:(...e)=>r(console.warn,...e),error:(...e)=>r(console.error,...e)};let n;try{n=l.main(),n instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(e){throw d.error("The background crashed on startup!"),e}return n}();
background;
